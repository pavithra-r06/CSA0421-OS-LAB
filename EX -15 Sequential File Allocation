#include <stdio.h>

int main() {
    int blocks, start, length;

    printf("Enter total number of blocks: ");
    scanf("%d", &blocks);

    int disk[blocks];
    for (int i = 0; i < blocks; i++)
        disk[i] = 0;

    int n;
    printf("Enter number of files: ");
    scanf("%d", &n);

    while (n--) {
        printf("\nEnter starting block: ");
        scanf("%d", &start);

        printf("Enter length of file: ");
        scanf("%d", &length);

        int free = 1;
        for (int i = start; i < start + length; i++) {
            if (disk[i] == 1 || i >= blocks) {
                free = 0;
                break;
            }
        }

        if (!free) {
            printf("Cannot allocate. Blocks not free.\n");
        } 
        else {
            for (int i = start; i < start + length; i++)
                disk[i] = 1;

            printf("Allocated blocks: ");
            for (int i = start; i < start + length; i++)
                printf("%d ", i);
            printf("\n");
        }
    }

    return 0;
}
